{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Newsto from'./Newsto';import Spinner from'./Spinner';import InfiniteScroll from'react-infinite-scroll-component';// import PropTypes from 'prop-types'\n// import axios from 'axios';\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var NewsCom=/*#__PURE__*/function(_Component){_inherits(NewsCom,_Component);var _super=_createSuper(NewsCom);function NewsCom(props){var _this;_classCallCheck(this,NewsCom);_this=_super.call(this,props);_this.capitalizedfun=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.fetchMoreData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var Url,data,parasedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page+1});Url=\"https://newsapi.org/v2/top-headlines?country=in&category=\".concat(_this.props.category,\"&apiKey=\").concat(_this.props.apikey,\"&page=\").concat(_this.state.page,\"&pagesize=6\");_this.setState({loading:true});_context.next=5;return fetch(Url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parasedData=_context.sent;_this.setState({article:_this.state.article.concat(parasedData.articles),totalResults:parasedData.totalResults,loading:false});case 10:case\"end\":return _context.stop();}},_callee);}));_this.state={article:[],loading:false,page:1,totalResult:0};document.title=\"\".concat(_this.capitalizedfun(_this.props.category));return _this;}_createClass(NewsCom,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var Url,data,parasedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:this.props.setProgress(10);Url=\"https://newsapi.org/v2/top-headlines?country=in&category=\".concat(this.props.category,\"&apiKey=\").concat(this.props.apikey,\"&page=\").concat(this.state.page,\"&pagesize=6\");this.setState({loading:true});this.props.setProgress(30);_context2.next=6;return fetch(Url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parasedData=_context2.sent;this.props.setProgress(70);this.setState({article:parasedData.articles,totalResult:parasedData.totalResults,loading:false});console.log(this.state.article[1],'sss');this.props.setProgress(100);case 14:case\"end\":return _context2.stop();}},_callee2,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:this.updateNews();case 1:case\"end\":return _context3.stop();}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:// handleprev = () => {\n//   this.setState({ page: this.state.page - 1 })\n//   this.updateNews()\n// }\n// handlenext = () => {\n//   this.setState({ page: this.state.page + 1 })\n//   this.updateNews()\n// }\nfunction render(){var _this$props=this.props,color=_this$props.color,colorrtx=_this$props.colorrtx,button=_this$props.button;// console.log(button)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container my-2\",style:{overflowX:'hidden'},children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{color:colorrtx},children:[\"Top Headline- On \",this.capitalizedfun(this.props.category),\" Section \"]}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.article.length,next:this.fetchMoreData,hasMore:this.state.article.length!==this.state.totalResult,loader:this.state.loading?/*#__PURE__*/_jsx(Spinner,{}):\"\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row \",style:{overflowY:'hidden'},children:this.state.article.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col md-4\",children:/*#__PURE__*/_jsx(Newsto,{button:button,color:color,colorrtx:colorrtx,title:element.title?element.title.slice(0,25):\"\",description:element.description?element.description.slice(0,68):\"\",Url:element.url,imageUrl:element.urlToImage,author:element.author,date:element.publishedAt})},index);})})})})]});}}]);return NewsCom;}(Component);export{NewsCom as default};","map":{"version":3,"names":["React","Component","Newsto","Spinner","InfiniteScroll","NewsCom","props","capitalizedfun","string","charAt","toUpperCase","slice","fetchMoreData","setState","page","state","Url","category","apikey","loading","fetch","data","json","parasedData","article","concat","articles","totalResults","totalResult","document","title","setProgress","console","log","updateNews","color","colorrtx","button","overflowX","length","overflowY","map","element","index","description","url","urlToImage","author","publishedAt"],"sources":["C:/Users/Sachin Saxena/Documents/Custom Office Templates/NewsPoint/src/component/NewsCom.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Newsto from './Newsto'\r\nimport Spinner from './Spinner';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n// import PropTypes from 'prop-types'\r\n\r\n// import axios from 'axios';\r\nexport default class NewsCom extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      article: [],\r\n      loading: false,\r\n      page: 1,\r\n      totalResult: 0\r\n    }\r\n    document.title=`${this.capitalizedfun(this.props.category)}`\r\n  }\r\n  capitalizedfun=(string) =>{\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n  async updateNews() {\r\n    this.props.setProgress(10);\r\n    let Url = `https://newsapi.org/v2/top-headlines?country=in&category=${this.props.category}&apiKey=${this.props.apikey}&page=${this.state.page}&pagesize=6`;\r\n    this.setState({ loading: true })\r\n    this.props.setProgress(30);\r\n    let data = await fetch(Url)\r\n    let parasedData = await data.json()\r\n    this.props.setProgress(70);\r\n    this.setState({\r\n      article: parasedData.articles,\r\n      totalResult: parasedData.totalResults,\r\n      loading: false\r\n    })\r\n    console.log(this.state.article[1],'sss')\r\n      this.props.setProgress(100);\r\n  }\r\n  async componentDidMount() {\r\n    this.updateNews()\r\n  }\r\n  fetchMoreData = async () => {\r\n    this.setState({ page: this.state.page + 1 })\r\n    let Url = `https://newsapi.org/v2/top-headlines?country=in&category=${this.props.category}&apiKey=${this.props.apikey}&page=${this.state.page}&pagesize=6`;\r\n    this.setState({loading:true})\r\n    let data = await fetch(Url)\r\n    let parasedData = await data.json()\r\n    this.setState({\r\n      article: this.state.article.concat(parasedData.articles),\r\n      totalResults: parasedData.totalResults,\r\n      loading: false,\r\n    })\r\n  }\r\n  // handleprev = () => {\r\n  //   this.setState({ page: this.state.page - 1 })\r\n  //   this.updateNews()\r\n  // }\r\n  // handlenext = () => {\r\n    //   this.setState({ page: this.state.page + 1 })\r\n    //   this.updateNews()\r\n    // }\r\n    render() {\r\n      let { color, colorrtx,button} = this.props\r\n      // console.log(button)\r\n      return (\r\n      <div className='container my-2' style={{overflowX:'hidden'}}>\r\n        <h1 className=\"text-center\" style={{ color: colorrtx }}>Top Headline- On {this.capitalizedfun(this.props.category)} Section </h1>\r\n       {/* <Spinner /> */}\r\n        {this.state.loading && <Spinner />}\r\n\r\n        <InfiniteScroll\r\n          dataLength={this.state.article.length}\r\n          next={this.fetchMoreData}\r\n          hasMore={this.state.article.length !== this.state.totalResult}\r\n          loader={this.state.loading?< Spinner/>:\"\"}\r\n        >\r\n        <div >\r\n            <div className=\"row \" style={{overflowY:'hidden'}} >\r\n              {this.state.article.map((element,index) => {\r\n                return <div className=\"col md-4\" key={index}>\r\n                  <Newsto button={button} color={color} colorrtx={colorrtx} title={element.title ? element.title.slice(0, 25) : \"\"} description={element.description ? element.description.slice(0, 68) : \"\"} Url={element.url} imageUrl={element.urlToImage} author={element.author} date={element.publishedAt} />\r\n                </div>\r\n              })}\r\n            </div>\r\n          </div>\r\n        </InfiniteScroll>\r\n        {/* <div className=\"container d-flex justify-content-between\">\r\n          <button type=\"button\" disabled={this.state.page <= 1} className=\"btn bt-sm btn-dark\" onClick={this.handleprev}>&larr; Preview </button><h4>{this.state.page}</h4>\r\n          <button type=\"button\" className=\"btn btn-dark\" disabled={this.state.page + 1 > Math.ceil(this.state.totalResult / 9)} onClick={this.handlenext}>&nbsp;&nbsp;Next &rarr;&nbsp;&nbsp;&nbsp;  </button> </div> */}\r\n      </div>\r\n    )\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}